<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:mvc="http://www.springframework.org/schema/mvc"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc
        http://www.springframework.org/schema/mvc/spring-mvc.xsd">

    <!--扫描包-->
    <context:component-scan base-package="cn.hw">

    </context:component-scan>

    <!--配置访问静态资源-->
    <mvc:annotation-driven conversion-service="conversionService"></mvc:annotation-driven>

    <!--
    将映射的地址直接指向静态资源文件夹，springmvc将不会将此映射为handler
    mapping 映射拦截 location：资源路径
    <mvc:resources mapping="/images/**" location="/images/"/>-->

    <!--默认视图解析器 配置上前缀和后缀 简化逻辑视图 -->
    <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver" name="ViewResolver">
        <property name="prefix" value="/WEB-INF/views/"></property>
        <property name="suffix" value=".jsp"></property>
    </bean>

    <!--配置自定义类型转换器 org.springframework.context.support.ConversionServiceFactoryBean
        当配置了类型转换器，需要将实现类改为：FormattingConversionServiceFactoryBean 才可以同时支持自定义和格式化
    -->
    <bean class = "org.springframework.format.support.FormattingConversionServiceFactoryBean" id="conversionService">
<!--        <property name="converters">-->
<!--            <set>-->
<!--                <bean class="cn.hw.converters.MyStringToDateConverter"></bean>-->
<!--            </set>-->
<!--        </property>-->
    </bean>

    <!--视图控制器 立即访问-->
<!--    <mvc:view-controller path="/user/add" view-name="user/add"></mvc:view-controller>-->

    <!--设置国际化支持 配置国际化属性资源文件-->
    <bean class="org.springframework.context.support.ResourceBundleMessageSource" id="messageSource">
        <property name="basenames">
            <array>
                <value>i18n/login</value>
            </array>
        </property>
        <property name="defaultEncoding" value="UTF-8"/>
    </bean>

    <!--使用SessionLocaleResolver 保持Locale的状态 会存Session中获取Locale对象-->
    <bean class="org.springframework.web.servlet.i18n.SessionLocaleResolver" id="localeResolver"></bean>

<!--    方式2：使用spring mvc提供的拦截器,接收local参数(en_US\zh_CN) 设置session中去-->
<!--    <mvc:interceptors>-->
<!--        <bean class="org.springframework.web.servlet.i18n.LocaleChangeInterceptor"></bean>-->
<!--    </mvc:interceptors>-->
</beans>